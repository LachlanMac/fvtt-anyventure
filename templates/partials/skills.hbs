{{!-- Skills Page --}}
<div class="skills-page">

  {{!-- Skills Grid --}}
  <div class="skills-grid">
    {{!-- Left Column --}}
    <div class="skills-column">
      {{!-- Physique --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-dumbbell"></i>
            Physique
          </h3>
          <div class="talent-stars">
            {{#times system.attributes.physique.value}}
              <i class="fas fa-star filled"></i>
            {{/times}}
          </div>
        </div>
        <div class="skills-list">
          {{#each skillCategories.basic as |skill key|}}
            {{#if (eq skill.attribute "physique")}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="basic" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>

      {{!-- Finesse --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-feather-alt"></i>
            Finesse
          </h3>
          <div class="talent-stars">
            {{#times system.attributes.finesse.value}}
              <i class="fas fa-star filled"></i>
            {{/times}}
          </div>
        </div>
        <div class="skills-list">
          {{#each skillCategories.basic as |skill key|}}
            {{#if (eq skill.attribute "finesse")}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="basic" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>

      {{!-- Mind --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-brain"></i>
            Mind
          </h3>
          <div class="talent-stars">
            {{#times system.attributes.mind.value}}
              <i class="fas fa-star filled"></i>
            {{/times}}
          </div>
        </div>
        <div class="skills-list">
          {{#each skillCategories.basic as |skill key|}}
            {{#if (eq skill.attribute "mind")}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="basic" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>
    </div>

    {{!-- Right Column --}}
    <div class="skills-column">
      {{!-- Knowledge --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-book"></i>
            Knowledge
          </h3>
          <div class="talent-stars">
            {{#times system.attributes.knowledge.value}}
              <i class="fas fa-star filled"></i>
            {{/times}}
          </div>
        </div>
        <div class="skills-list">
          {{#each skillCategories.basic as |skill key|}}
            {{#if (eq skill.attribute "knowledge")}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="basic" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>

      {{!-- Social --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-comments"></i>
            Social
          </h3>
          <div class="talent-stars">
            {{#times system.attributes.social.value}}
              <i class="fas fa-star filled"></i>
            {{/times}}
          </div>
        </div>
        <div class="skills-list">
          {{#each skillCategories.basic as |skill key|}}
            {{#if (eq skill.attribute "social")}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="basic" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>

      {{!-- Crafting Skills --}}
      <div class="attribute-block">
        <div class="attribute-header">
          <h3 class="attribute-name">
            <i class="fas fa-hammer"></i>
            Crafting
          </h3>
        </div>
        <div class="skills-list">
          {{#each skillCategories.crafting as |skill key|}}
            {{#if skill.talent}}
            <div class="skill-row">
              <span class="skill-name rollable skill-roll" data-category="crafting" data-skill="{{key}}">{{localizeSkill key}}</span>
              <div class="skill-value-group">
                <span class="talent-stars-skill">
                {{#times skill.talent}}
                  <i class="fas fa-star filled"></i>
                {{/times}}
              </span>
                <span class="skill-modifier">({{skill.value}})</span>
                <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>
    </div>
  </div>

  {{!-- Specialized Skills --}}
  <div class="specialized-skills">
    {{!-- Weapon Skills --}}
    {{#if (hasAnyTalent skillCategories.weapon)}}
    <div class="skill-category-block">
      <h3 class="category-header">
        <i class="fas fa-sword"></i>
        Weapon Skills
      </h3>
      <div class="specialized-grid">
        {{#each skillCategories.weapon as |skill key|}}
          {{#if skill.talent}}
          <div class="specialized-skill">
            <span class="skill-name rollable skill-roll" data-category="weapon" data-skill="{{key}}">{{localizeSkill key}}</span>
            <div class="skill-value-group">
              <span class="talent-stars-skill">
                {{#times skill.talent}}
                  <i class="fas fa-star filled"></i>
                {{/times}}
              </span>
              <span class="skill-modifier">({{skill.value}})</span>
              <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
            </div>
          </div>
          {{/if}}
        {{/each}}
      </div>
    </div>
    {{/if}}

    {{!-- Magic Skills --}}
    {{#if (hasAnyTalent skillCategories.magic)}}
    <div class="skill-category-block">
      <h3 class="category-header">
        <i class="fas fa-magic"></i>
        Magic Skills
      </h3>
      <div class="specialized-grid">
        {{#each skillCategories.magic as |skill key|}}
          {{#if skill.talent}}
          <div class="specialized-skill">
            <span class="skill-name rollable skill-roll" data-category="magic" data-skill="{{key}}">{{localizeSkill key}}</span>
            <div class="skill-value-group">
              <span class="talent-stars-skill">
                {{#times skill.talent}}
                  <i class="fas fa-star filled"></i>
                {{/times}}
              </span>
              <span class="skill-modifier">({{skill.value}})</span>
              <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
            </div>
          </div>
          {{/if}}
        {{/each}}
      </div>
    </div>
    {{/if}}

    {{!-- Music Skills --}}
    {{#if (hasAnyTalent skillCategories.music)}}
    <div class="skill-category-block">
      <h3 class="category-header">
        <i class="fas fa-music"></i>
        Music Skills
      </h3>
      <div class="specialized-grid">
        {{#each skillCategories.music as |skill key|}}
          {{#if skill.talent}}
          <div class="specialized-skill">
            <span class="skill-name rollable skill-roll" data-category="music" data-skill="{{key}}">{{localizeSkill key}}</span>
            <div class="skill-value-group">
              <span class="talent-stars-skill">
                {{#times skill.talent}}
                  <i class="fas fa-star filled"></i>
                {{/times}}
              </span>
              <span class="skill-modifier">({{skill.value}})</span>
              <span class="skill-die">{{skill.talent}}{{skillDie skill.value}}</span>
            </div>
          </div>
          {{/if}}
        {{/each}}
      </div>
    </div>
    {{/if}}

    {{!-- Language Skills --}}
    {{#if skillCategories.language}}
    {{#each skillCategories.language as |skill key|}}
      {{#unless @first}}{{else}}
      <div class="skill-category-block">
        <h3 class="category-header">
          <i class="fas fa-comments"></i>
          Language Skills
        </h3>
        <div class="specialized-grid">
      {{/unless}}
          <div class="specialized-skill {{#if skill.magic}}magical-language{{/if}}">
            <span class="skill-name rollable skill-roll" data-category="language" data-skill="{{key}}" data-item-id="{{skill.itemId}}">
              {{#if skill.magic}}<i class="fas fa-magic" title="Magical Language"></i>{{/if}}
              {{skill.name}}
            </span>
            <div class="skill-value-group">
              <span class="talent-stars-skill">
                {{#times skill.talent}}
                  <i class="fas fa-star filled"></i>
                {{/times}}
                {{#unless skill.talent}}
                  <span class="no-talent">—</span>
                {{/unless}}
              </span>
              <span class="skill-modifier">({{skill.value}})</span>
              <span class="skill-die">{{#if skill.talent}}{{skill.talent}}{{skillDie skill.value}}{{else}}—{{/if}}</span>
            </div>
          </div>
      {{#unless @last}}{{else}}
        </div>
      </div>
      {{/unless}}
    {{/each}}
    {{/if}}
  </div>
</div>