{{!-- Basic Information Partial --}}
<div class="basic-info-section">
  <h3>Basic Information</h3>
  <div class="basic-info-grid">
    {{!-- Item Type --}}
    <div class="form-group">
      <label>Item Type</label>
      <select name="system.itemType" class="itemtype-selector" style="text-align: center;">
        <optgroup label="Equipment">
          <option value="body" {{#if (eq system.itemType "body")}}selected{{/if}}>Body Armor</option>
          <option value="headwear" {{#if (eq system.itemType "headwear")}}selected{{/if}}>Headwear</option>
          <option value="gloves" {{#if (eq system.itemType "gloves")}}selected{{/if}}>Gloves</option>
          <option value="boots" {{#if (eq system.itemType "boots")}}selected{{/if}}>Boots</option>
          <option value="accessory" {{#if (eq system.itemType "accessory")}}selected{{/if}}>Accessory</option>
          <option value="cloak" {{#if (eq system.itemType "cloak")}}selected{{/if}}>Cloak</option>
          <option value="shield" {{#if (eq system.itemType "shield")}}selected{{/if}}>Shield</option>
        </optgroup>
        <optgroup label="Weapons">
          <option value="weapon" {{#if (eq system.itemType "weapon")}}selected{{/if}}>Weapon</option>
        </optgroup>
        <optgroup label="General Items">
          <option value="tool" {{#if (eq system.itemType "tool")}}selected{{/if}}>Tool</option>
          <option value="consumable" {{#if (eq system.itemType "consumable")}}selected{{/if}}>Consumable</option>
          <option value="crafting" {{#if (eq system.itemType "crafting")}}selected{{/if}}>Crafting Material</option>
          <option value="treasure" {{#if (eq system.itemType "treasure")}}selected{{/if}}>Treasure</option>
          <option value="misc" {{#if (eq system.itemType "misc")}}selected{{/if}}>Miscellaneous</option>
        </optgroup>
      </select>
    </div>

    {{!-- Rarity --}}
    <div class="form-group">
      <label for="system.rarity">Rarity</label>
      <select name="system.rarity" style="text-align: center;">
        <option value="common" {{#if (eq system.rarity "common")}}selected{{/if}}>Common</option>
        <option value="uncommon" {{#if (eq system.rarity "uncommon")}}selected{{/if}}>Uncommon</option>
        <option value="rare" {{#if (eq system.rarity "rare")}}selected{{/if}}>Rare</option>
        <option value="very_rare" {{#if (eq system.rarity "very_rare")}}selected{{/if}}>Very Rare</option>
        <option value="legendary" {{#if (eq system.rarity "legendary")}}selected{{/if}}>Legendary</option>
        <option value="artifact" {{#if (eq system.rarity "artifact")}}selected{{/if}}>Artifact</option>
      </select>
    </div>

    {{!-- Weight --}}
    <div class="form-group">
      <label for="system.weight">Weight (bulk)</label>
      <input type="number" name="system.weight" value="{{system.weight}}" step="0.1" placeholder="0" style="text-align: center;"/>
    </div>

    {{!-- Value --}}
    <div class="form-group">
      <label for="system.value">Value (silver)</label>
      <input type="number" name="system.value" value="{{system.value}}" placeholder="0" style="text-align: center;"/>
    </div>
  </div>

  {{!-- Type-specific fields --}}
  {{#if (eq item.type "weapon")}}
  <div class="form-group">
    <label>Weapon Category</label>
    <select name="system.weapon_data.category" data-dtype="String">
      {{#each weaponCategories as |category|}}
      <option value="{{category.value}}" {{#if (eq ../system.weapon_data.category category.value)}}selected{{/if}}>{{category.label}}</option>
      {{/each}}
    </select>
  </div>
  {{/if}}

  {{#if (eq item.type "armor")}}
  <div class="form-group">
    <label>Armor Category</label>
    <select name="system.armor_data.category" data-dtype="String">
      {{#each armorCategories as |category|}}
      <option value="{{category.value}}" {{#if (eq ../system.armor_data.category category.value)}}selected{{/if}}>{{category.label}}</option>
      {{/each}}
    </select>
  </div>
  {{/if}}

  {{#if (eq item.type "spell")}}
  <div class="form-group">
    <label>Magic Type</label>
    <select name="system.magicType" data-dtype="String">
      {{#each magicTypes as |type|}}
      <option value="{{type}}" {{#if (eq ../system.magicType type)}}selected{{/if}}>{{capitalize type}}</option>
      {{/each}}
    </select>
  </div>
  
  <div class="form-group">
    <label>Subschool</label>
    <select name="system.subschool" data-dtype="String">
      {{#each spellSchools.[system.magicType] as |school|}}
      <option value="{{school}}" {{#if (eq ../system.subschool school)}}selected{{/if}}>{{capitalize school}}</option>
      {{/each}}
    </select>
  </div>
  {{/if}}

  {{#if (eq item.type "module")}}
  <div class="form-group">
    <label>Module Type</label>
    <select name="system.moduleType" data-dtype="String">
      {{#each moduleTypes as |type|}}
      <option value="{{type}}" {{#if (eq ../system.moduleType type)}}selected{{/if}}>{{capitalize type}}</option>
      {{/each}}
    </select>
  </div>
  {{/if}}
</div>